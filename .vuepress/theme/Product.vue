<template>
  <div id="page-product">
    <Header />
    <div class="banner">
      <div class="wrapper">
        <div class="product-list">
          <a href="#3" class="item"><img :src="$withBase('/images/product/pro_4.png')" alt=""></a>
          <a href="#2" class="item"><img :src="$withBase('/images/product/pro_3.png')" alt=""></a>
          <a href="#1" class="item"><img :src="$withBase('/images/product/pro_2.png')" alt=""></a>
          <a href="#0" class="item s-item"><img :src="$withBase('/images/product/pro_1.png')" alt=""></a>
        </div>
      </div>
    </div>
    <div class="wrapper">
      <div class="product-detail-list pro-list">
        <div class="item">
          <div class="jingjiang"></div>
          <div class="img"><img :src="$withBase('/images/product/pro_img_1.jpg')" alt=""></div>
          <h3 class="title">甘大哥小酒<span class="tag">|纯粮陈酿|</span></h3>
          <div class="info">
            <table>
              <tbody>
                <tr>
                  <td>产品名称</td>
                  <td>45%VOL白酒</td>
                </tr>
                <tr>
                  <td>产品规格</td>
                  <td>100ml</td>
                </tr>
                <tr>
                  <td>产品外观</td>
                  <td>磨砂光瓶</td>
                </tr>
                <tr>
                  <td>产品香型</td>
                  <td>小曲清香（固态法）</td>
                </tr>
                <tr>
                  <td>包装方式</td>
                  <td>箱装，12瓶每箱</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="buy-info">
            <div class="bg"></div>
            <div class="summary">公司传承了白沙五百年烧酒技术，运用固态法工艺古法酿造，产品属纯粹的小曲清香白酒，其特点：清、雅、醇、净。<br><span class="cl-red">甘大哥</span>牌45度白酒荣获2016年渝、闵、湘、鄂、桂、赣酒类质量检评金奖</div>
            <a href="javascript:;">在线购买</a>
          </div>
        </div>
        <div class="item">
          <div class="jingjiang"></div>
          <div class="img"><img :src="$withBase('/images/product/pro_img_2.jpg')" alt=""></div>
          <h3 class="title">甘大哥45简装<span class="tag">|纯粮陈酿|</span></h3>
          <div class="info">
            <table>
              <tbody>
                <tr>
                  <td>产品名称</td>
                  <td>45%VOL白酒</td>
                </tr>
                <tr>
                  <td>产品规格</td>
                  <td>500ml</td>
                </tr>
                <tr>
                  <td>产品外观</td>
                  <td>光瓶纸标</td>
                </tr>
                <tr>
                  <td>产品香型</td>
                  <td>小曲清香（固态法）</td>
                </tr>
                <tr>
                  <td>包装方式</td>
                  <td>箱装，6瓶每箱</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="buy-info">
            <div class="bg"></div>
            <div class="summary">公司传承了白沙五百年烧酒技术，运用固态法工艺古法酿造，产品属纯粹的小曲清香白酒，其特点：清、雅、醇、净。<br><span class="cl-red">甘大哥</span>牌45度白酒荣获2016年渝、闵、湘、鄂、桂、赣酒类质量检评金奖</div>
            <a href="javascript:;">在线购买</a>
          </div>
        </div>
        <div class="item">
          <div class="jingjiang"></div>
          <div class="img"><img :src="$withBase('/images/product/pro_img_3.jpg')" alt=""></div>
          <h3 class="title">甘大哥45经典<span class="tag">|纯粮典藏|</span></h3>
          <div class="info">
            <table>
              <tbody>
                <tr>
                  <td>产品名称</td>
                  <td>50%VOL白酒</td>
                </tr>
                <tr>
                  <td>产品规格</td>
                  <td>500ml</td>
                </tr>
                <tr>
                  <td>产品外观</td>
                  <td>盒装银标</td>
                </tr>
                <tr>
                  <td>产品香型</td>
                  <td>小曲清香（固态法）</td>
                </tr>
                <tr>
                  <td>包装方式</td>
                  <td>盒箱装，6盒每箱</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="buy-info">
            <div class="bg"></div>
            <div class="summary">公司传承了白沙五百年烧酒技术，运用固态法工艺古法酿造，产品属纯粹的小曲清香白酒，其特点：清、雅、醇、净。<br><span class="cl-red">甘大哥</span>牌45度白酒荣获2016年渝、闵、湘、鄂、桂、赣酒类质量检评金奖</div>
            <a href="javascript:;">在线购买</a>
          </div>
        </div>
        <div class="item">
          <div class="img"><img :src="$withBase('/images/product/pro_img_4.jpg')" alt=""></div>
          <h3 class="title">甘大哥50经典<span class="tag">|纯粮典藏|</span></h3>
          <div class="info">
            <table>
              <tbody>
                <tr>
                  <td>产品名称</td>
                  <td>50%VOL白酒</td>
                </tr>
                <tr>
                  <td>产品规格</td>
                  <td>500ml</td>
                </tr>
                <tr>
                  <td>产品外观</td>
                  <td>盒装金标</td>
                </tr>
                <tr>
                  <td>产品香型</td>
                  <td>小曲清香（固态法）</td>
                </tr>
                <tr>
                  <td>包装方式</td>
                  <td>盒箱装，6盒每箱</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="buy-info">
            <div class="bg"></div>
            <div class="summary">公司传承了白沙五百年烧酒技术，运用固态法工艺古法酿造，产品属纯粹的小曲清香白酒，其特点：清、雅、醇、净。<br><span class="cl-red">甘大哥</span>牌45度白酒荣获2016年渝、闵、湘、鄂、桂、赣酒类质量检评金奖</div>
            <a href="javascript:;">在线购买</a>
          </div>
        </div>
      </div>
    </div>
    <Footer />
  </div>
</template>

<script>
import Header from './components/Header.vue';
import Footer from './components/Footer.vue';

let inited = false;

let onRouteChange = (index) => {}
function initedRouter () {
  if (inited) return;
  inited = true;
  var router = new Backbone.Router();
  router.route(/(.*)/,'every',function(route){
    var index = parseInt(route) || 0;
    onRouteChange(index);
  });
  Backbone.history.start();
}

export default {
  components: {
    Header,
    Footer
  },
  mounted () {
    var $productList = $(".product-list");
    var $productDetailList = $(".product-detail-list");
    $productList.on("mouseenter",".item",function(){
      var $item = $(this);
      $item.stop(true).animate({marginTop:-20});
    });
    $productList.on("mouseleave",".item",function(){
      var $item = $(this);
      $item.stop(true).animate({marginTop:0});
    });
    $productDetailList.children().css({opacity:0,top:100});
    var le = $productDetailList.children().length-1;
    var top = $productDetailList.offset().top-130;
    var $doc = $("html,body");
    $productList.on("click",".item",function(){
      var $item = $(this);
      $doc.animate({scrollTop:top},200);
    });

    onRouteChange = (index) => {
      $productDetailList.children(".active").stop(true).removeClass("active").css('zIndex',1).animate({opacity:0,top:100});
      $productDetailList.children().eq(index).stop(true).addClass("active").css('zIndex',2).animate({opacity:1,top:0});
    }

    onRouteChange(0);
    initedRouter();
  },
  destroyed () {
    onRouteChange = () => {}
  }
}
</script>

<style lang="stylus">
#page-product{
  
}
#page-product .info-list{
  margin: 80px 0 80px;
  background: url("/images/nav_bg.jpg");
  overflow: hidden;
  font-size: 14px;
}
#page-product .info-list .item{
  display: block;
  position: relative;
  overflow: hidden;
  text-decoration: none;
  border-top:1px solid #c5c5c5;
  margin-top: -1px;
}
#page-product .info-list .bg{
  background-color: #e7e7e6;
  position: absolute;left:0;top:0;width:100%;height: 100%;
}
#page-product .info-list .img{
  position: relative;
  float:left;
  width:600px;height: 280px;
  opacity: 0.4;filter: Alpha(Opacity=40);
}
#page-product .info-list .title{
  position: relative;
  margin-top: 112px;
  text-align: center;
  font-size: 18px;
  line-height: 60px;
}
#page-product .info-list .summary{
  position: relative;
  text-align: center;
  line-height: 26px;
  opacity: 0;filter: Alpha(Opacity=0);
}
#page-product .info-list .icon{
  position: absolute;
  top:50%;right:40px;
  margin-top: -20px;
  background-color: #929292;
}
#page-product .info-list .item:hover .icon{
  color:#fff;
}
#page-product .pro-list{
  overflow: hidden;*zoom:1;
}
#page-product .pro-list .item{
  float:left;
  width: 300px;
  padding: 40px 40px 40px 260px;
  position: relative;
  height: 380px;
}
#page-product .pro-list .img{
  position: absolute;
  left: 40px;
  top: 0;
  width:180px;
  height: 426px;
}
#page-product .pro-list .img img{
  width: 100%;
  height: 100%;
}
#page-product .pro-list .title{
  font-size: 20px;
  line-height: 50px;
  margin-bottom: 20px;
  text-align: center;
  color: #000;
}
#page-product .pro-list .tag{
  font-size: 16px;
  margin-right: 8px;
}
#page-product .pro-list .link{
  margin-top: 40px;
  display: block;text-align: center;
  line-height: 50px;border-radius: 5px;
  background-color: #747474;color:#fff;
  text-decoration: none;
}
#page-product .pro-list .link:hover{
  background-color: #4d4d4d;
}
#page-product .pro-list .icomoon{
  margin-top: 18px;
  display: inline-block;
  vertical-align: top;
}
#page-product .pro-list table{
  width:100%;
}
#page-product .pro-list td{
  border-bottom:1px solid #fff;
  padding:10px 30px 10px 0;
}

#page-product body{background: url("/images/index_bg.jpg") center 80px;}
#page-product .banner{
  width: 100%;
  height: 644px;
  margin-top: 80px;
  background: url("/images/product/product_02.jpg") center 0;
}
#page-product .product-list{width: 100%;margin: 80px 0 0 -210px;padding-top: 170px;height: 461px;}
#page-product .product-list .item{
  float:right;
  position: relative;
  background: url("/images/product_light.png") 0 bottom no-repeat;
  background-position: 35px 290px;
  padding-left: 260px;
  margin-right: -160px;
}
#page-product .product-list .s-item{
  padding-top: 150px;
  background: url("/images/product_light_s.png") 122px bottom no-repeat;
}
#page-product .product-detail-list{
  
margin-top: 80px;
  
height: 821px;
  
position: relative;
}
#page-product .product-detail-list .item{
  float:none;
  width:auto;
  background-color: #fff;
  /* border-top:1px solid #a35903; */
  padding: 160px 40px 100px 820px;
  height: 405px;
  position: absolute;
  top: 0;
  left: 0;
}
#page-product .product-detail-list .img{width: 808px;height: 665px;top: 0px;left: 0;}
#page-product .product-detail-list .tag{
    font-size: 14px;
    font-weight: 400;
    margin-left: 10px;
}
#page-product .product-detail-list .title{text-align: left;border-bottom: 1px dotted #bbb;}
#page-product .product-detail-list .info{position: relative;}
#page-product .product-detail-list table{}
#page-product .product-detail-list .link{background-color: #90734b;}
#page-product .product-detail-list .link:hover{background-color: #665235;}
#page-product .product-detail-list .buy-info{
    position: absolute;
    left: 0;
    top: 104%;
    width: 100%;
}
#page-product .product-detail-list .buy-info .bg{
  position: absolute;left:0;top:0;width:100%;height: 100%;
  background: #000;opacity:0.2;filter: Alpha(Opacity=20);
}
#page-product .product-detail-list .buy-info a{position: absolute;right: 14px;padding: 10px 30px;background: #fc6d5b;font-size: 22px;color: #fff;top: 14px;text-decoration: none;}
#page-product .product-detail-list .buy-info a:hover{background-color: #fa2205;}
#page-product .product-detail-list .buy-info .summary{padding: 14px;color:#000;font-size: 14px;line-height: 24px;}
#page-product .product-detail-list .jingjiang{width:134px;height: 134px;position: absolute;top:20px;right:20px;background:  url("/images/jingjiang.png");}
</style>